{"ast":null,"code":"import _objectSpread from\"d:/Deepu/R&D/Docker/Web/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{api}from'./api';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const App=()=>{const[users,setUsers]=useState([]);const[editingUser,setEditingUser]=useState(null);const[formData,setFormData]=useState({name:'',email:''});const[message,setMessage]=useState(null);useEffect(()=>{loadUsers();},[]);const loadUsers=async()=>{try{const data=await api.getUsers();setUsers(data);}catch(error){showMessage('Failed to load users','error');}};const handleSubmit=async e=>{e.preventDefault();try{if(editingUser){await api.updateUser(editingUser.id,formData);showMessage('User updated successfully','success');}else{await api.createUser(formData);showMessage('User created successfully','success');}resetForm();loadUsers();}catch(error){showMessage(error.message,'error');}};const handleEdit=user=>{setEditingUser(user);setFormData({name:user.name,email:user.email});};const handleDelete=async id=>{if(!window.confirm('Are you sure you want to delete this user?'))return;try{await api.deleteUser(id);showMessage('User deleted successfully','success');loadUsers();}catch(error){showMessage(error.message,'error');}};const resetForm=()=>{setEditingUser(null);setFormData({name:'',email:''});};const showMessage=(text,type)=>{setMessage({text,type});setTimeout(()=>setMessage(null),3000);};return/*#__PURE__*/_jsxs(\"div\",{className:\"app\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"User Management CRUD\"}),message&&/*#__PURE__*/_jsx(\"div\",{className:\"message \".concat(message.type),children:message.text}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:editingUser?'Update User':'Add User'}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Name\",value:formData.name,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{name:e.target.value})),required:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Email\",value:formData.email,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{email:e.target.value})),required:true})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:editingUser?'Update User':'Add User'}),editingUser&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:resetForm,children:\"Cancel\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Users\"}),/*#__PURE__*/_jsx(\"button\",{onClick:loadUsers,children:\"Refresh\"}),/*#__PURE__*/_jsx(\"div\",{className:\"users-list\",children:users.map(user=>/*#__PURE__*/_jsxs(\"div\",{className:\"user-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:user.name}),\" - \",user.email,/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEdit(user),children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(user.id),children:\"Delete\"})]},user.id))})]})]});};export default App;","map":{"version":3,"names":["React","useState","useEffect","api","jsx","_jsx","jsxs","_jsxs","App","users","setUsers","editingUser","setEditingUser","formData","setFormData","name","email","message","setMessage","loadUsers","data","getUsers","error","showMessage","handleSubmit","e","preventDefault","updateUser","id","createUser","resetForm","handleEdit","user","handleDelete","window","confirm","deleteUser","text","type","setTimeout","className","children","concat","onSubmit","placeholder","value","onChange","_objectSpread","target","required","onClick","map"],"sources":["d:/Deepu/R&D/Docker/Web/src/App.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { User } from './types';\nimport { api } from './api';\nimport './App.css';\n\nconst App: React.FC = () => {\n  const [users, setUsers] = useState<User[]>([]);\n  const [editingUser, setEditingUser] = useState<User | null>(null);\n  const [formData, setFormData] = useState({ name: '', email: '' });\n  const [message, setMessage] = useState<{ text: string; type: 'success' | 'error' } | null>(null);\n\n  useEffect(() => {\n    loadUsers();\n  }, []);\n\n  const loadUsers = async () => {\n    try {\n      const data = await api.getUsers();\n      setUsers(data);\n    } catch (error) {\n      showMessage('Failed to load users', 'error');\n    }\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    try {\n      if (editingUser) {\n        await api.updateUser(editingUser.id, formData);\n        showMessage('User updated successfully', 'success');\n      } else {\n        await api.createUser(formData);\n        showMessage('User created successfully', 'success');\n      }\n      resetForm();\n      loadUsers();\n    } catch (error) {\n      showMessage((error as Error).message, 'error');\n    }\n  };\n\n  const handleEdit = (user: User) => {\n    setEditingUser(user);\n    setFormData({ name: user.name, email: user.email });\n  };\n\n  const handleDelete = async (id: number) => {\n    if (!window.confirm('Are you sure you want to delete this user?')) return;\n    try {\n      await api.deleteUser(id);\n      showMessage('User deleted successfully', 'success');\n      loadUsers();\n    } catch (error) {\n      showMessage((error as Error).message, 'error');\n    }\n  };\n\n  const resetForm = () => {\n    setEditingUser(null);\n    setFormData({ name: '', email: '' });\n  };\n\n  const showMessage = (text: string, type: 'success' | 'error') => {\n    setMessage({ text, type });\n    setTimeout(() => setMessage(null), 3000);\n  };\n\n  return (\n    <div className=\"app\">\n      <h1>User Management CRUD</h1>\n      \n      {message && <div className={`message ${message.type}`}>{message.text}</div>}\n      \n      <div>\n        <h2>{editingUser ? 'Update User' : 'Add User'}</h2>\n        <form onSubmit={handleSubmit}>\n          <div className=\"form-group\">\n            <input\n              type=\"text\"\n              placeholder=\"Name\"\n              value={formData.name}\n              onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n              required\n            />\n          </div>\n          <div className=\"form-group\">\n            <input\n              type=\"email\"\n              placeholder=\"Email\"\n              value={formData.email}\n              onChange={(e) => setFormData({ ...formData, email: e.target.value })}\n              required\n            />\n          </div>\n          <button type=\"submit\">{editingUser ? 'Update User' : 'Add User'}</button>\n          {editingUser && <button type=\"button\" onClick={resetForm}>Cancel</button>}\n        </form>\n      </div>\n      \n      <div>\n        <h2>Users</h2>\n        <button onClick={loadUsers}>Refresh</button>\n        <div className=\"users-list\">\n          {users.map(user => (\n            <div key={user.id} className=\"user-item\">\n              <strong>{user.name}</strong> - {user.email}\n              <button onClick={() => handleEdit(user)}>Edit</button>\n              <button onClick={() => handleDelete(user.id)}>Delete</button>\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}